from platform import version
from traceback import print_tb

MENU = {
    'ì—ìŠ¤í”„ë ˆì†Œ': {
        'ì¬ë£Œ': {
            'ë¬¼': 50,
            'ì»¤í”¼': 18,
        },
        'ê°€ê²©': 1.5,
    },
    'ë¼ë–¼': {
        'ì¬ë£Œ': {
            'ë¬¼': 200,
            'ìš°ìœ ': 150,
            'ì»¤í”¼': 24,
        },
        'ê°€ê²©': 2.5,
    },
    'ì¹´í‘¸ì¹˜ë…¸': {
        'ì¬ë£Œ': {
            'ë¬¼': 250,
            'ìš°ìœ ': 100,
            'ì»¤í”¼': 24,
        },
        'ê°€ê²©': 3.5,
    },
}
profit = 0
resources = {
    'ë¬¼': 300,
    'ìš°ìœ ': 200,
    'ì»¤í”¼': 100,
}

logo = ''' .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------. 
| .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. |
| |     ______   | || |     ____     | || |  _________   | || |  _________   | || |  _________   | || |  _________   | |
| |   .' ___  |  | || |   .'    `.   | || | |_   ___  |  | || | |_   ___  |  | || | |_   ___  |  | || | |_   ___  |  | |
| |  / .'   \_|  | || |  /  .--.  \  | || |   | |_  \_|  | || |   | |_  \_|  | || |   | |_  \_|  | || |   | |_  \_|  | |
| |  | |         | || |  | |    | |  | || |   |  _|      | || |   |  _|      | || |   |  _|  _   | || |   |  _|  _   | |
| |  \ `.___.'\  | || |  \  `--'  /  | || |  _| |_       | || |  _| |_       | || |  _| |___/ |  | || |  _| |___/ |  | |
| |   `._____.'  | || |   `.____.'   | || | |_____|      | || | |_____|      | || | |_________|  | || | |_________|  | |
| |              | || |              | || |              | || |              | || |              | || |              | |
| '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' |
 '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------' '''

# í•¨ìˆ˜ ì •ì˜ ì˜ì—­
def is_resource_enough(
        order_ingredient):  # ë§Œì•½ì— íŠ¹ì • í•¨ìˆ˜/ë©”ì„œë“œì˜ ê²°ê³¼ê°’ì´ booleanì´ë¼ë©´ ëŒ€ê°œ ë‹¤ìŒ ì¡°ê±´ë¬¸/ë°˜ë³µë¬¸ì˜ ì¡°ê±´ì‹ìœ¼ë¡œ ì“°ì´ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê°œë…ì„ ë– ì˜¬ë¦¬ì‹œë©´ ë©ë‹ˆë‹¤.
    """
    DocString : í•¨ìˆ˜ / í´ë˜ìŠ¤ / ë©”ì„œë“œê°€ ì–´ë–¤ ì‘ë™ì„ í•˜ëŠ”ì§€ 'ì‚¬ëŒë“¤ì—ê²Œ' ì„¤ëª…í•´ì£¼ëŠ” ê¸°ëŠ¥.
    ì£¼ë¬¸ ë°›ì€ ìŒë£Œë¥¼ resourcesì—ì„œ ì¬ë£Œ ì°¨ê°ì„ í•˜ê³  ë‚œ í›„, ìŒë£Œ ë§Œë“¤ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤ë©´ True ë°˜í™˜, ì•„ë‹ˆë©´ False ë°˜í™˜
    :param : order_ingredient
    :return: True / False
    """
    for item in order_ingredient:  # order_ingredientì˜ ìë£Œí˜•ì€ ë¬´ì—‡ì´ê³ , ê·¸ ê·¼ê±°ëŠ”?
        if order_ingredient[item] > resources[item]:
            print(f'ì£„ì†¡í•©ë‹ˆë‹¤. {item}ì´(ê°€) ë¶€ì¡±í•©ë‹ˆë‹¤.')
            return False
    return True


def process_coins():
    """ë™ì „ë“¤ì„ ì…ë ¥ ë°›ì•„ ì „ì²´ ê¸ˆì•¡ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ call3() ìœ í˜•"""
    # ì¿¼í„°, ë‹¤ì„, ë‹ˆì¼ˆ, í˜ë‹ˆ ë„¤ ì¢…ë¥˜ì˜ ë™ì „
    '''
    ì¿¼í„° = 0.25 ë‹¬ëŸ¬    quarter
    ë‹¤ì„ = 0.1ë‹¬ëŸ¬      dime   
    ë‹ˆì¼ˆ = 0.05 ë‹¬ëŸ¬    nickel
    í˜ë‹ˆ = 0.01 ë‹¬ëŸ¬    penny
    '''
    sum = 0
    # ì´ ë¶€ë¶„ì— ë¡œì§ì´ ë“¤ì–´ê°€ì•¼ í•  ê²ë‹ˆë‹¤.
    # ë‚´ê°€ í•œ ê±°
    # quarter = float(input('quaterë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. >>> '))* 0.25
    # dime = float(input('dimeì„ ì…ë ¥í•´ì£¼ì„¸ìš”. >>> ')) * 0.1
    # nickel = float(input('nickelì„ ì…ë ¥í•´ì£¼ì„¸ìš”. >>> ')) * 0.05
    # penny = float(input('pennyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. >>> ')) * 0.01
    # sum = quarter + dime + nickel + penny
    # ê·¼ë° ì§€ê¸ˆ í•¨ìˆ˜ í•˜ë‚˜ì— ì§€ì—­ ë³€ìˆ˜ê°€ 5ê°œë‚˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    # ê·¸ë¦¬ê³  ë‹¤ìˆ˜ì˜ ìˆ˜ê°•ìƒ ë¶„ë“¤ì´ ë¹¡ì„¸ê²Œ collections  ì“°ëŠ” ë°”ëŒì— ë‚´ë¶€ì— ì¡°ê±´ë¬´ë‹ˆ ìˆê±°ë‚˜ ë°˜ë³µë¬¸ì´ ìˆëŠ” ê²½ìš°ë„ ë´¤ìŠµë‹ˆë‹¤.
    # ê°•ì‚¬ë‹˜
    sum += float(input('quaterë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. >>> ')) * 0.25
    sum += float(input('dimeì„ ì…ë ¥í•´ì£¼ì„¸ìš”. >>> ')) * 0.1
    sum += float(input('nickelì„ ì…ë ¥í•´ì£¼ì„¸ìš”. >>> ')) * 0.05
    sum += float(input('pennyë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. >>> ')) * 0.01
    return sum


# todo - 6 : ìš°ë¦¬ê°€ ì™œ ë™ì „ ì²˜ë¦¬ í•¨ìˆ˜ë¥¼ ì •ì˜í–ˆëŠ”ì§€ ì´í•´í•´ì•¼ í•˜ë‹ˆë‹¤. í•´ë‹¹ ì´í•©ì„ ê°€ì§€ê³ , ì´í•©ì´ 'ì„ íƒí•œ'ìŒë£Œ ê°€ê²©ë³´ë‹¤ ë†’ë‹¤ë©´ ë‹¤ìŒ ê³¼ì •ìœ¼ë¡œ ë„˜ì–´ê°ˆ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.
def is_transaction_successful(money_received, drink_cost):
    """process_coins() ê²°ê³¼ê°’ê³¼ ìŒë£Œ ê°€ê²©ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ ë°›ì€ ë™ì „ì˜ ì´í•©ì´ ìŒë£Œ ê°€ê²©ë³´ë‹¤ ë†’ìœ¼ë©´ True . ì•„ë‹ˆë©´ False ë°˜í™˜. ê·¸ë¦¬ê³  Trueì¸ ê²½ìš°ì—ëŠ” profitì— ìŒë£Œ ê°€ê²©ë§Œí¼ ì¶”ê°€í•´ì¤˜ì•¼ í•˜ê³ , Falseì¸ ê²½ìš°ì—ëŠ” ë°›ì€ ë™ì „ë“¤ì„ ë°˜í™˜í•´ì£¼ëŠ” ì•ˆë‚´ë¬¸ ì¶œë ¥"""
    change = money_received - drink_cost
    if change >= 0:
        # ì´ëŸ¬ë©´ ìŒë£Œ ì œì¡° ê³¼ì •ìœ¼ë¡œ ë„˜ì–´ê°€ì•¼ê² ë„¤ìš”. ê·¸ë¦¬ê³  profitì— ì¶”ê°€ë„ í•´ì¤˜ì•¼ í•˜ê³ .
        global profit  # ì „ì—­ ë³€ìˆ˜ì¸ profitì„ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ í‚¤ì›Œë“œ
        profit += drink_cost  # ê·¼ë° í•¨ìˆ˜ í˜¸ì¶œì„ í†µí•œ ì „ì—­ ë³€ìˆ˜ì˜ ê°’ ë³€í™”ëŠ” ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        print(f'ì”ëˆ${change}ì„(ë¥¼) ë°˜í™˜í•©ë‹ˆë‹¤.')
        return True  # ê·¸ë˜ì•¼ ìŒë£Œ ì œì¡° ê³¼ì •ì˜ ì¡°ê±´ì‹ìœ¼ë¡œ ì“¸ ìˆ˜ ìˆìœ¼ë‹ˆê¹Œìš”
    else:
        print(f'ê¸ˆì•¡ì´ ì¶©ë¶„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ${money_received}ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤..')
        return False  # ì–˜ëŠ” ìŒë£Œ ì œì¡° ê³¼ì •ì˜ ì¡°ê±´ì‹ìœ¼ë¡œ ì“°ì´ë”ë¼ë„ ì‹¤í–‰ì´ ì•ˆë˜ê² ë„¤ìš”.


def make_coffee(drink_name, order_ingredient):
    """

    resourcesì— ìˆëŠ” ì¬ë£Œì—ì„œ ë©”ë‰´['ìŒë£Œëª…']['ì¬ë£Œ']ë“¤ì„ ì°¨ê°í•¨.
        -> ì°¨ê°ì€ is_resources_enough()ì´ Trueì˜€ê¸° ë•Œë¬¸ì— ë¬´ì¡°ê±´ 0 ì´ìƒì´ ë‚˜ì˜µë‹ˆë‹¤.
    :param drink_name: str
    :param order_ingredient: dict
    :return: none -> call2() ìœ í˜•ìœ¼ë¡œ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.
    """
    for item in order_ingredient:  # resourcesê°€ ì•„ë‹ˆë¼ order_ingredientë¥¼ ë°˜ë³µë¬¸ ëŒë¦¬ëŠ” ì´ìœ ëŠ” ì—ìŠ¤í”„ë ˆì†Œì¼ ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì—ìŠ¤í”„ë ˆì†Œì˜ ì¬ë£Œì—ëŠ” ìš°ìœ ê°€ ì—†ëŠ”ë° resourcesì—ëŠ” ìˆëŠ” ìƒíƒœê°€ ë˜ì£ . ê·¸ë˜ì„œ order_ingredient['ìš°ìœ '] ë¶€ë¶„ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.
        resources[item] -= order_ingredient[item]
    print(f'{drink_name}ì´(ê°€) ë‚˜ì™”ìŠµë‹ˆë‹¤. ë§›ìˆê²Œ ë“œì„¸ìš” ! â¤ï¸')


# todo - 1 : ì»¤í”¼ ë¨¸ì‹ ì´ ë°˜ë³µì ìœ¼ë¡œ ëŒì•„ê°€ì•¼ í•˜ëŠ”ë°, offë¥¼ ì…ë ¥ ë°›ìœ¼ë©´ ì¢…ë£Œê°€ ì´ë£¨ì–´ì ¸ì•¼ í•©ë‹ˆë‹¤.

# ê´€ë ¨ ë³€ìˆ˜ ì„ ì–¸ ë° ì´ˆê¸°í™”
is_on = True
print(logo)
while is_on:
    # ë°˜ë³µë¬¸ ë‚´ë¶€ì—ì„œ ì…ë ¥ ë°›ì•„ì•¼ í•˜ë‹ˆê¹Œ ì—¬ê¸°ë‹¤ê°€ ì„ ì–¸ ë° ì´ˆê¸°í™”ë¥¼ í•˜ê² ìŠµë‹ˆë‹¤.
    choice = input('ì–´ë–¤ ìŒë£Œë¥¼ ë“œì‹œê² ìŠµë‹ˆê¹Œ? (ì—ìŠ¤í”„ë ˆì†Œ / ë¼ë–¼ / ì¹´í‘¸ì¹˜ë…¸) >>> ')
    if choice == 'off':
        is_on = False  # ì´ë²ˆ ë°˜ë³µì€ ì „ë¶€ ì‹¤í–‰ë˜ê³  ë‹¤ìŒ ë°˜ë³µì—ì„œ ì¢…ë£Œ
        print('ìíŒê¸°ê°€ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.ğŸ˜¤ğŸ˜¤')
        # break  # ë°”ë¡œ ì¢…ë£Œ
    elif choice == 'report':
        print(f'ë¬¼: {resources['ë¬¼']}ml')
        print(f'ìš°ìœ : {resources['ìš°ìœ ']}ml')
        print(f'ì»¤í”¼: {resources['ì»¤í”¼']}ml')
        print(f'ëˆ :  ${profit}')
    elif choice in ['ì—ìŠ¤í”„ë ˆì†Œ', 'ë¼ë–¼', 'ì¹´í‘¸ì¹˜ë…¸']:
        drink = MENU[choice]        # ì„¸ ë²ˆ ë‚˜ì™€ì„œ refactoring ì˜ˆì‹œë¡œ ë‚¨ê²¨ë‘ê² ìŠµë‹ˆë‹¤.
        if is_resource_enough(MENU[choice]['ì¬ë£Œ']):
            money_received = process_coins()
            if is_transaction_successful(money_received=money_received, drink_cost=drink['ê°€ê²©']):
                make_coffee(drink_name=choice, order_ingredient=drink['ì¬ë£Œ'])
    else:
        print('ì˜ëª» ì…ë ¥í•˜ì…¨ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•˜ì„¸ìš” . ğŸ«¥')